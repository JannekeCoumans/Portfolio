{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\31622\\\\Documents\\\\React Apps\\\\portfolio\\\\src\\\\components\\\\OverViewContributions\\\\OverViewContributions.js\";\nimport React, { Component } from \"react\";\nimport { settings } from \"config/C4\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass OverViewContributions extends Component {\n  constructor() {\n    super();\n    this.state = {\n      contributions: {}\n    };\n  }\n\n  async componentDidMount() {\n    await this.getContributions();\n    this.setContributionData();\n  }\n\n  async getContributions() {\n    const {\n      accessToken\n    } = settings;\n    const headers = {\n      Authorization: `bearer ${accessToken}`\n    };\n    const body = {\n      query: `query {\n                user(login: \"JannekeCoumans\") {\n                  name\n                  contributionsCollection {\n                    contributionCalendar {\n                      totalContributions\n                      weeks {\n                        contributionDays {\n                          contributionCount\n                        }\n                        firstDay\n                      }\n                    }\n                  }\n                }\n              }`\n    };\n    const response = await fetch(\"https://api.github.com/graphql\", {\n      method: \"POST\",\n      body: JSON.stringify(body),\n      headers: headers\n    });\n    const result = await response.json();\n\n    if (!result.errors && result.data) {\n      console.log(result);\n      this.setState({\n        contributions: result.data\n      });\n    }\n  }\n\n  setContributionData() {\n    const {\n      contributions\n    } = this.state;\n    const data = [];\n    console.log('test');\n\n    if (contributions && contributions.user) {\n      const contributionWeeks = Object.values(contributions.user.contributionsCollection.contributionCalendar.weeks);\n      const weekly = contributionWeeks.map(week => {\n        let weeklyContributions = null;\n        week.contributionDays.map(item => weeklyContributions = weeklyContributions + item.contributionCount);\n        console.log({\n          week: week.firstDay,\n          contributions: weeklyContributions\n        });\n        return {\n          week: week.firstDay,\n          contributions: weeklyContributions\n        };\n      });\n      console.log(weekly, 'weekly');\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"OverViewContributions\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nexport default OverViewContributions;","map":{"version":3,"sources":["C:/Users/31622/Documents/React Apps/portfolio/src/components/OverViewContributions/OverViewContributions.js"],"names":["React","Component","settings","OverViewContributions","constructor","state","contributions","componentDidMount","getContributions","setContributionData","accessToken","headers","Authorization","body","query","response","fetch","method","JSON","stringify","result","json","errors","data","console","log","setState","user","contributionWeeks","Object","values","contributionsCollection","contributionCalendar","weeks","weekly","map","week","weeklyContributions","contributionDays","item","contributionCount","firstDay","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,WAAzB;;;AAEA,MAAMC,qBAAN,SAAoCF,SAApC,CAA8C;AAC5CG,EAAAA,WAAW,GAAG;AACZ;AACA,SAAKC,KAAL,GAAa;AACXC,MAAAA,aAAa,EAAE;AADJ,KAAb;AAGD;;AAEsB,QAAjBC,iBAAiB,GAAG;AACxB,UAAM,KAAKC,gBAAL,EAAN;AACA,SAAKC,mBAAL;AACD;;AAEqB,QAAhBD,gBAAgB,GAAG;AACvB,UAAM;AAAEE,MAAAA;AAAF,QAAkBR,QAAxB;AACA,UAAMS,OAAO,GAAG;AACdC,MAAAA,aAAa,EAAG,UAASF,WAAY;AADvB,KAAhB;AAGA,UAAMG,IAAI,GAAG;AACXC,MAAAA,KAAK,EAAG;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhBiB,KAAb;AAkBA,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAD,EAAmC;AAC7DC,MAAAA,MAAM,EAAE,MADqD;AAE7DJ,MAAAA,IAAI,EAAEK,IAAI,CAACC,SAAL,CAAeN,IAAf,CAFuD;AAG7DF,MAAAA,OAAO,EAAEA;AAHoD,KAAnC,CAA5B;AAKA,UAAMS,MAAM,GAAG,MAAML,QAAQ,CAACM,IAAT,EAArB;;AACA,QAAI,CAACD,MAAM,CAACE,MAAR,IAAkBF,MAAM,CAACG,IAA7B,EAAmC;AAC/BC,MAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;AACF,WAAKM,QAAL,CAAc;AAAEpB,QAAAA,aAAa,EAAEc,MAAM,CAACG;AAAxB,OAAd;AACD;AACF;;AAEDd,EAAAA,mBAAmB,GAAG;AACpB,UAAM;AAAEH,MAAAA;AAAF,QAAoB,KAAKD,KAA/B;AACA,UAAMkB,IAAI,GAAG,EAAb;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ;;AACA,QAAInB,aAAa,IAAIA,aAAa,CAACqB,IAAnC,EAAyC;AACrC,YAAMC,iBAAiB,GAAGC,MAAM,CAACC,MAAP,CACxBxB,aAAa,CAACqB,IAAd,CAAmBI,uBAAnB,CAA2CC,oBAA3C,CAAgEC,KADxC,CAA1B;AAGA,YAAMC,MAAM,GAAGN,iBAAiB,CAACO,GAAlB,CAAuBC,IAAD,IAAU;AAC7C,YAAIC,mBAAmB,GAAG,IAA1B;AACAD,QAAAA,IAAI,CAACE,gBAAL,CAAsBH,GAAtB,CAA2BI,IAAD,IAAUF,mBAAmB,GAAGA,mBAAmB,GAAGE,IAAI,CAACC,iBAArF;AACAhB,QAAAA,OAAO,CAACC,GAAR,CAAY;AAACW,UAAAA,IAAI,EAAEA,IAAI,CAACK,QAAZ;AAAsBnC,UAAAA,aAAa,EAAE+B;AAArC,SAAZ;AACA,eAAO;AAACD,UAAAA,IAAI,EAAEA,IAAI,CAACK,QAAZ;AAAsBnC,UAAAA,aAAa,EAAE+B;AAArC,SAAP;AACD,OALc,CAAf;AAMAb,MAAAA,OAAO,CAACC,GAAR,CAAYS,MAAZ,EAAoB,QAApB;AACD;AACJ;;AAEDQ,EAAAA,MAAM,GAAG;AACP,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AArE2C;;AAuE9C,eAAevC,qBAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport { settings } from \"config/C4\";\r\n\r\nclass OverViewContributions extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      contributions: {},\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.getContributions();\r\n    this.setContributionData();\r\n  }\r\n\r\n  async getContributions() {\r\n    const { accessToken } = settings;\r\n    const headers = {\r\n      Authorization: `bearer ${accessToken}`,\r\n    };\r\n    const body = {\r\n      query: `query {\r\n                user(login: \"JannekeCoumans\") {\r\n                  name\r\n                  contributionsCollection {\r\n                    contributionCalendar {\r\n                      totalContributions\r\n                      weeks {\r\n                        contributionDays {\r\n                          contributionCount\r\n                        }\r\n                        firstDay\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }`,\r\n    };\r\n    const response = await fetch(\"https://api.github.com/graphql\", {\r\n      method: \"POST\",\r\n      body: JSON.stringify(body),\r\n      headers: headers,\r\n    });\r\n    const result = await response.json();\r\n    if (!result.errors && result.data) {\r\n        console.log(result)\r\n      this.setState({ contributions: result.data });\r\n    }\r\n  }\r\n\r\n  setContributionData() {\r\n    const { contributions } = this.state;\r\n    const data = [];\r\n\r\n    console.log('test')\r\n    if (contributions && contributions.user) {\r\n        const contributionWeeks = Object.values(\r\n          contributions.user.contributionsCollection.contributionCalendar.weeks\r\n        );\r\n        const weekly = contributionWeeks.map((week) => {\r\n          let weeklyContributions = null;\r\n          week.contributionDays.map((item) => weeklyContributions = weeklyContributions + item.contributionCount);\r\n          console.log({week: week.firstDay, contributions: weeklyContributions});\r\n          return {week: week.firstDay, contributions: weeklyContributions};\r\n        });\r\n        console.log(weekly, 'weekly');\r\n      }\r\n  }\r\n\r\n  render() {\r\n    return <h1>OverViewContributions</h1>;\r\n  }\r\n}\r\nexport default OverViewContributions;\r\n"]},"metadata":{},"sourceType":"module"}